<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>덕수궁 돌담길: 그 길 끝에 있는 것</title>
    
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&family=Song+Myung&display=swap');

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f5f5f4; /* Stone-100 */
        }
        
        .serif-font {
            font-family: 'Song+Myung', serif;
        }

        .fade-enter {
            opacity: 0;
            transform: translateY(20px);
        }
        .fade-enter-active {
            opacity: 1;
            transform: translateY(0);
            transition: opacity 500ms, transform 500ms;
        }

        /* Card Flip Styles */
        .perspective-1000 {
            perspective: 1000px;
        }
        .transform-style-3d {
            transform-style: preserve-3d;
        }
        .backface-hidden {
            backface-visibility: hidden;
        }
        .rotate-y-180 {
            transform: rotateY(180deg);
        }
        
        /* Custom Stone Wall Pattern Effect */
        .stone-wall {
            background-image: radial-gradient(#d6d3d1 15%, transparent 16%),
            radial-gradient(#d6d3d1 15%, transparent 16%);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Icons (Inline SVG Components) ---
        // 외부 라이브러리 로딩 오류를 방지하기 위해 직접 정의합니다.

        const IconBase = ({ size = 24, className = "", children, ...props }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width={size} 
                height={size} 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                className={className} 
                {...props}
            >
                {children}
            </svg>
        );

        const MapPin = (props) => (
            <IconBase {...props}>
                <path d="M20 10c0 6-9 13-9 13s-9-7-9-13a9 9 0 0 1 18 0Z" />
                <circle cx="12" cy="10" r="3" />
            </IconBase>
        );

        const Heart = (props) => (
            <IconBase {...props}>
                <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" />
            </IconBase>
        );

        const HeartCrack = (props) => (
            <IconBase {...props}>
                <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" />
                <path d="m12 13-1-1 2-2-3-3" />
            </IconBase>
        );

        const Gavel = (props) => (
            <IconBase {...props}>
                <path d="m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8" />
                <path d="m16 16 6-6" />
                <path d="m8 8 6-6" />
                <path d="m9 7 8 8" />
                <path d="m21 11-8-8" />
            </IconBase>
        );

        const ArrowRight = (props) => (
            <IconBase {...props}>
                <path d="M5 12h14" />
                <path d="m12 5 7 7-7 7" />
            </IconBase>
        );

        const BookOpen = (props) => (
            <IconBase {...props}>
                <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z" />
                <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z" />
            </IconBase>
        );

        const Church = (props) => (
            <IconBase {...props}>
                <path d="M10 9h4" />
                <path d="M12 7v5" />
                <path d="M14 22v-4a2 2 0 0 0-4 0v4" />
                <path d="M18 22V5l-6-3-6 3v17" />
                <path d="M2 22h20" />
            </IconBase>
        );

        const RefreshCcw = (props) => (
            <IconBase {...props}>
                <path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8" />
                <path d="M3 3v5h5" />
                <path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16" />
                <path d="M16 16h5v5" />
            </IconBase>
        );

        const Footprints = (props) => (
            <IconBase {...props}>
               <path d="M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 11 3.8 11 8c0 1.25-1 2-1 2.5 0 1.11 1.55 1.26 1.5 2.51-.05 1.24-1.5 1.24-1.5 2.5 0 1.25 1.5 1.25 1.5 2.5 0 1.25-1.5 1.24-1.5 2.49V22" />
               <path d="M14 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C8.63 6 7 7.8 7 12c0 1.25 1 2 1 2.5 0 1.11-1.55 1.26-1.5 2.51.05 1.24 1.5 1.24 1.5 2.5 0 1.25-1.5 1.25-1.5 2.5 0 1.25 1.5 1.24 1.5 2.49V22" />
            </IconBase>
        );

        const AlertCircle = (props) => (
            <IconBase {...props}>
                <circle cx="12" cy="12" r="10" />
                <line x1="12" x2="12" y1="8" y2="12" />
                <line x1="12" x2="12.01" y1="16" y2="16" />
            </IconBase>
        );


        // --- Data ---
        const steps = [
            {
                id: 1,
                title: "덕수궁 돌담길의 전설",
                icon: <MapPin size={32} />,
                color: "text-amber-700",
                bg: "bg-amber-100",
                content: (
                    <div className="space-y-4">
                        <p>한국에는 유명한 길이 하나 있습니다. 바로 <strong>'덕수궁 돌담길'</strong>입니다.</p>
                        <p>이 길에는 오래된 전설이 있습니다. <br/><span className="text-red-600 font-bold">"연인이 이 길을 함께 걸으면 헤어진다."</span></p>
                        <div className="p-4 bg-white rounded-lg shadow-sm border border-stone-200 text-sm text-stone-600">
                            <strong>왜 그럴까요?</strong><br/>
                            과거 이 길의 중간에 이혼을 허락하는 <span className="underline">가정 법원</span>이 있었기 때문입니다.
                        </div>
                    </div>
                )
            },
            {
                id: 2,
                title: "결혼: 강력한 약속",
                icon: <Heart size={32} />,
                color: "text-rose-600",
                bg: "bg-rose-100",
                content: (
                    <div className="space-y-4">
                        <p>결혼은 단순한 만남이 아닙니다. <strong>아주 강력한 약속</strong>입니다.</p>
                        <p>이 약속은 법적인 효력이 있어서, 깨뜨리려면 법원의 허락이나 재판이 필요할 정도입니다.</p>
                        <div className="flex justify-center py-4">
                            <div className="flex items-center space-x-2 text-stone-500">
                                <span className="px-3 py-1 bg-stone-200 rounded-full text-xs">약속</span>
                                <ArrowRight size={16} />
                                <span className="px-3 py-1 bg-stone-800 text-white rounded-full text-xs">책임</span>
                            </div>
                        </div>
                    </div>
                )
            },
            {
                id: 3,
                title: "오해: 하나님은 이혼을 미워하신다?",
                icon: <HeartCrack size={32} />,
                color: "text-stone-600",
                bg: "bg-stone-200",
                content: (
                    <div className="space-y-4">
                        <p>성경에는 <strong>"하나님께서 이혼을 미워하신다"</strong>는 말씀이 있습니다.</p>
                        <p className="text-sm text-stone-500">이 말씀은 오랫동안 오해를 낳았습니다.</p>
                        <ul className="list-disc pl-5 text-sm space-y-1 text-stone-700">
                            <li>이혼한 사람은 무조건 죄인이다?</li>
                            <li>이혼한 사람을 차별해도 된다?</li>
                        </ul>
                        <p className="font-bold text-center mt-4">과연 그럴까요?</p>
                    </div>
                )
            },
            {
                id: 4,
                title: "진실: '내쫓음'과 '폭력'",
                type: "flip",
                icon: <RefreshCcw size={32} />,
                color: "text-indigo-600",
                bg: "bg-indigo-100",
                content: "flip_card_content" 
            },
            {
                id: 5,
                title: "이스라엘과 우리의 모습",
                icon: <AlertCircle size={32} />,
                color: "text-orange-600",
                bg: "bg-orange-100",
                content: (
                    <div className="space-y-4">
                        <p>구약에서 하나님과 이스라엘의 관계는 <strong>'결혼'</strong>으로 비유됩니다.</p>
                        <div className="bg-white p-4 rounded border-l-4 border-orange-400">
                            <h4 className="font-bold text-sm mb-2">이스라엘의 잘못된 태도</h4>
                            <p className="text-sm text-stone-600">필요할 때만 하나님을 찾고, 불리해지면 우상을 의지하며 하나님을 마음에서 <strong>'내쫓는'</strong> 모습.</p>
                        </div>
                        <p>이것은 <strong>우리의 이웃</strong>을 대하는 태도이기도 합니다. 나의 이익을 위해 이웃을 이용하고 있지는 않나요?</p>
                    </div>
                )
            },
            {
                id: 6,
                title: "길의 끝: 새로운 시선",
                icon: <Church size={32} />,
                color: "text-emerald-700",
                bg: "bg-emerald-100",
                content: (
                    <div className="space-y-4">
                        <p>다시 덕수궁 돌담길로 돌아옵니다. 가을 단풍이 아름다운 이 길.</p>
                        <p>이 길을 걷다 보면 <strong>가정 법원(이혼)</strong>이 나옵니다. 하지만 시선을 들어 <strong>그 너머</strong>를 보세요.</p>
                        <div className="relative h-32 w-full bg-stone-300 rounded-lg overflow-hidden flex items-center justify-center">
                            <div className="absolute inset-0 bg-cover bg-center opacity-40" style={{backgroundImage: 'url("https://images.unsplash.com/photo-1490555306598-1e43c5b5f257?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80")'}}></div>
                            <div className="z-10 text-center">
                                <span className="block text-xs font-bold text-stone-700 mb-1">길 끝에 있는 것</span>
                                <span className="text-xl font-serif font-bold text-emerald-900">성공회 서울대주교 성당</span>
                            </div>
                        </div>
                        <p className="text-sm">법원만 보면 이별의 길이지만, 끝까지 걸으면 <strong>하나님을 만나는 길</strong>이 됩니다.</p>
                    </div>
                )
            },
            {
                id: 7,
                title: "결론: 희생과 사랑",
                icon: <Footprints size={32} />,
                color: "text-blue-700",
                bg: "bg-blue-100",
                content: (
                    <div className="space-y-4 text-center">
                        <p>나에게 유리한 것만 바라보면 삶에 <strong>폭력</strong>만 남습니다.</p>
                        <p>하지만 같은 어려움 속에서도 길 끝에 계신 <strong>하나님</strong>을 바라본다면?</p>
                        <div className="py-6">
                            <BookOpen className="mx-auto text-blue-600 mb-2" size={40} />
                            <p className="serif-font text-lg font-bold leading-relaxed text-stone-800">
                                "예수님은 폭력이 가득한 세상 속에<br/>
                                하나님의 사랑을 전하고자<br/>
                                스스로를 내어 던지셨습니다."
                            </p>
                        </div>
                        <p className="text-sm text-stone-500">그 희생이 오늘 우리에게 필요합니다.</p>
                    </div>
                )
            }
        ];

        // --- Components ---

        const FlipCard = () => {
            const [isFlipped, setIsFlipped] = useState(false);

            return (
                <div className="w-full h-64 cursor-pointer perspective-1000" onClick={() => setIsFlipped(!isFlipped)}>
                    <div className={`relative w-full h-full duration-700 transform-style-3d ${isFlipped ? 'rotate-y-180' : ''}`}>
                        
                        {/* Front Side */}
                        <div className="absolute w-full h-full backface-hidden bg-white border-2 border-indigo-200 rounded-xl shadow-md p-6 flex flex-col items-center justify-center">
                            <div className="text-indigo-500 mb-4"><HeartCrack size={48} /></div>
                            <h3 className="text-xl font-bold text-stone-800 mb-2">우리가 읽는 '이혼'</h3>
                            <p className="text-center text-stone-600 text-sm">법적인 관계의 단절<br/>서류상의 정리</p>
                            <span className="absolute bottom-4 text-xs text-indigo-400 animate-pulse">카드를 눌러보세요</span>
                        </div>

                        {/* Back Side */}
                        <div className="absolute w-full h-full backface-hidden rotate-y-180 bg-indigo-600 text-white rounded-xl shadow-md p-6 flex flex-col items-center justify-center">
                            <div className="mb-4"><Gavel size={48} /></div>
                            <h3 className="text-xl font-bold mb-2">원어의 의미: '내쫓다'</h3>
                            <p className="text-center text-indigo-100 text-sm">
                                강한 자가 자신의 이익을 위해<br/>
                                약한 자를 보호하지 않고 내버리는<br/>
                                <span className="font-bold text-yellow-300 underline">폭력적인 행위</span>
                            </p>
                        </div>
                    </div>
                </div>
            );
        };

        const ProgressBar = ({ total, current }) => {
            const progress = ((current + 1) / total) * 100;
            return (
                <div className="w-full bg-stone-200 h-2 rounded-full mt-8 overflow-hidden">
                    <div 
                        className="bg-amber-600 h-full transition-all duration-500 ease-out" 
                        style={{ width: `${progress}%` }}
                    ></div>
                </div>
            );
        };

        const App = () => {
            const [currentStep, setCurrentStep] = useState(0);
            const [direction, setDirection] = useState(0); // -1 for prev, 1 for next

            const nextStep = () => {
                if (currentStep < steps.length - 1) {
                    setDirection(1);
                    setCurrentStep(prev => prev + 1);
                }
            };

            const prevStep = () => {
                if (currentStep > 0) {
                    setDirection(-1);
                    setCurrentStep(prev => prev - 1);
                }
            };

            const reset = () => {
                setDirection(-1);
                setCurrentStep(0);
            };

            const currentData = steps[currentStep];

            return (
                <div className="min-h-screen flex flex-col items-center justify-center p-4 md:p-8 stone-wall">
                    
                    {/* Main Container */}
                    <div className="w-full max-w-md bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden border border-stone-200 flex flex-col min-h-[600px] relative">
                        
                        {/* Header Image Area */}
                        <div className={`h-32 ${currentData.bg} transition-colors duration-500 flex items-center justify-center relative overflow-hidden`}>
                            {/* Decorative Background Elements */}
                            <div className="absolute top-0 left-0 w-full h-full opacity-10">
                                <svg width="100%" height="100%">
                                    <pattern id="leaf" x="0" y="0" width="40" height="40" patternUnits="userSpaceOnUse">
                                        <path d="M20 0C10 10 0 20 20 40C40 20 30 10 20 0Z" fill="currentColor"/>
                                    </pattern>
                                    <rect width="100%" height="100%" fill="url(#leaf)"/>
                                </svg>
                            </div>

                            <div className={`transition-transform duration-500 transform ${direction === 0 ? 'scale-100' : 'scale-110'}`}>
                                <div className={`p-4 rounded-full bg-white shadow-lg ${currentData.color}`}>
                                    {currentData.icon}
                                </div>
                            </div>
                        </div>

                        {/* Content Area */}
                        <div className="flex-1 p-8 flex flex-col justify-between">
                            
                            <div className="flex-1 fade-enter-active">
                                <div className="text-xs font-bold text-stone-400 uppercase tracking-widest mb-2">
                                    STEP {currentStep + 1} / {steps.length}
                                </div>
                                <h2 className="text-2xl font-bold text-stone-800 mb-6 serif-font leading-tight">
                                    {currentData.title}
                                </h2>
                                
                                <div className="text-stone-700 leading-relaxed">
                                    {currentData.type === 'flip' ? <FlipCard /> : currentData.content}
                                </div>
                            </div>

                            {/* Navigation */}
                            <div className="mt-8">
                                <div className="flex justify-between items-center gap-4">
                                    <button 
                                        onClick={prevStep}
                                        disabled={currentStep === 0}
                                        className={`px-4 py-3 rounded-lg text-sm font-bold flex items-center transition-colors
                                            ${currentStep === 0 ? 'text-stone-300 cursor-not-allowed' : 'text-stone-600 hover:bg-stone-100'}`}
                                    >
                                        이전
                                    </button>

                                    {currentStep === steps.length - 1 ? (
                                        <button 
                                            onClick={reset}
                                            className="flex-1 px-6 py-3 rounded-lg bg-emerald-600 text-white font-bold shadow-lg hover:bg-emerald-700 transition-all flex items-center justify-center gap-2"
                                        >
                                            <RefreshCcw size={18} /> 다시 걷기
                                        </button>
                                    ) : (
                                        <button 
                                            onClick={nextStep}
                                            className="flex-1 px-6 py-3 rounded-lg bg-stone-800 text-white font-bold shadow-lg hover:bg-stone-900 transition-all flex items-center justify-center gap-2 group"
                                        >
                                            다음으로 <ArrowRight size={18} className="group-hover:translate-x-1 transition-transform" />
                                        </button>
                                    )}
                                </div>
                                <ProgressBar total={steps.length} current={currentStep} />
                            </div>
                        </div>
                    </div>

                    {/* Footer */}
                    <div className="mt-8 text-center text-stone-500 text-xs">
                        <p>Interactive Sermon Infographic</p>
                        <p className="mt-1">© 2023 Message Visualization</p>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
